@inject ICurrentUserService CurrentUserService

<div class="fixed inset-y-0 left-0 w-64 max-lg:hidden">
    <nav class="flex flex-col min-h-0 h-full">

        @* Brand *@
        <div class="flex flex-col border-b border-zinc-950/5 p-4 dark:border-white/5">
            <div class="flex w-full items-center gap-3 rounded-lg px-2 py-2.5 text-left text-lg/7 font-semibold text-zinc-950 dark:text-white">
                <img class="inline-block shrink-0 size-8 rounded-full outline -outline-offset-1 outline-black dark:outline-white" src="images/food-journal-logo-32x32.png" alt="" aria-label="food journal logo" />
                <span class="truncate">Bite Log</span>
            </div>
        </div>

        @* Content *@
        <div class="flex flex-1 flex-col gap-0.5 overflow-y-auto p-4">
            <span class="relative">
                <a class="flex w-full items-center gap-3 rounded-lg px-2 py-2.5 text-left text-base/6 font-medium text-zinc-950 hover:bg-zinc-950/5 active:bg-zinc-950/5 dark:text-white dark:hover:bg-white/5 dark:active:bg-white/5" href="/">
                    <span class="material-symbols-outlined">home</span>
                    <span class="truncate">Home</span>
                </a>
            </span>
            <span class="relative">
                <a class="flex w-full items-center gap-3 rounded-lg px-2 py-2.5 text-left text-base/6 font-medium text-zinc-950 hover:bg-zinc-950/5 active:bg-zinc-950/5 dark:text-white dark:hover:bg-white/5 dark:active:bg-white/5" href="/journal">
                    <span class="material-symbols-outlined">calendar_month</span>
                    <span class="truncate">Journal</span>
                </a>
            </span>
            <span class="relative">
                <a class="flex w-full items-center gap-3 rounded-lg px-2 py-2.5 text-left text-base/6 font-medium text-zinc-950 hover:bg-zinc-950/5 active:bg-zinc-950/5 dark:text-white dark:hover:bg-white/5 dark:active:bg-white/5" href="/foods">
                    <span class="material-symbols-outlined">fastfood</span>
                    <span class="truncate">Foods</span>
                </a>
            </span>
            <span class="relative">
                <a class="flex w-full items-center gap-3 rounded-lg px-2 py-2.5 text-left text-base/6 font-medium text-zinc-950 hover:bg-zinc-950/5 active:bg-zinc-950/5 dark:text-white dark:hover:bg-white/5 dark:active:bg-white/5" href="/meals">
                    <span class="material-symbols-outlined">restaurant</span>
                    <span class="truncate">Meals</span>
                </a>
            </span>
            <span class="relative">
                @* Next *@
            </span>
        </div>

        @* Account *@
        <div class="flex flex-col border-t border-zinc-950/5 p-4 dark:border-white/5">
            <div class="flex w-full items-center gap-3 rounded-lg px-2 py-2.5 text-left text-base/6 font-medium text-zinc-950 sm:py-2 sm:text-sm/5 hover:bg-zinc-950/5 active:bg-zinc-950/5 dark:text-white dark:hover:bg-white/5 dark:active:bg-white/5 cursor-pointer">
                <form action="Account/Logout" method="post" class="w-full">
                    <AntiforgeryToken />
                    <input type="hidden" name="returnUrl" value="" />
                    <span class="flex w-full items-center gap-3">
                        <span data-slot="avatar" class="size-10 inline-grid shrink-0 align-middle outline -outline-offset-1 outline-black/20 dark:outline-white/20 rounded-[20%]">
                            <img class="size-full" src="/images/portrait-placeholder.png" alt="">
                        </span>
                        <span class="flex w-full justify-between">
                            <span>
                                <span class="block truncate text-sm/5 font-medium text-zinc-950 dark:text-white">@name</span>
                                <span class="block truncate text-xs/5 font-normal text-zinc-500 dark:text-zinc-400">@email</span>
                            </span>
                            <button class="cursor-pointer" type="submit">
                                <span class="material-symbols-outlined">
                                    logout
                                </span>
                                <span class="hidden" aria-hidden="true">Logout</span>
                            </button>
                        </span>
                    </span>
                </form>
            </div>
        </div>

    </nav>
</div>

@code {
    string email = string.Empty;
    string name = string.Empty;

    protected override void OnInitialized()
    {
        email = CurrentUserService.Email ?? string.Empty;
        name = CurrentUserService.Name ?? string.Empty;
    }
}
